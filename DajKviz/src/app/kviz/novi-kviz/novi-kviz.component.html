<div class="d-flex justify-content-center container">

    <div class="d-flex flex-column">
        <div class="p-2">
        <h3 style="font-family: Arial;">Dodaj novi kviz</h3>
        <hr>
        </div>

        <div *ngIf="successAlert" class="alert alert-success" role="alert">
          Kviz uspješno napravljen!
        </div>

        <div class="p-2">
            <form #myForm="ngForm" (submit)="onSubmit(name.value, imgURL.value, description.value, myForm)">

                <div class="form-row">
                  <div class="form-group col-md-12">
                    <label for="inputKvizName" style="font-family: Arial;">Ime tvog novog kviza</label>
                    <input name="name" type="text" class="form-control" 
                            ngModel id="inputKvizName" placeholder="Ime kviza" 
                            #name required>
                  </div>

                  <div class="form-group col-md-12">
                    <label for="inputImgURL">URL slike tvog kviza</label>
                    <input name="imgURL" type="text" class="form-control" ngModel id="inputImgURL" required #imgURL>
                  </div>
                </div>

                <div class="form-group">
                  <label for="input">Opis kviza</label>
                  <textarea name="description" type="text" rows="5" class="form-control" 
                            ngModel id="inputDescription" placeholder="Opiši svoj kviz kako bi ostali znali o čemu se radi!" 
                            #description required></textarea>
                </div>

                <button type="button" class="btn btn-secondary btn-lg btn-block" (click)="onAddQuestion()">Add new question</button>
                <br>

                <div 
                *ngFor="let question of questions, let i = index"
                [index] = "i">
                <div class="form-row">
                  <div class="form-group col-md-12">
                    <label for="inputQuestion" style="font-family: Arial;">Pitanje:</label>
                    <input name="questions[{{i}}].question" type="text" class="form-control" 
                      [(ngModel)]="question.question" id="inputKvizQuestion" placeholder="Unesi pitanje" 
                            #question required>
                  </div>

                  <div class="form-group col-md-12 form-row d-flex align-items-center" style="margin-top: 5px;">
                    <label for="inputQuestion" style="font-family: Arial; text-align: center; margin-top: 5px;" class="d-flex align-items-center">Odgovor 1:</label>
                    
                    <div class="col d-flex align-items-center">
                      <input name="questions[{{i}}].answers[0]" type="text" class="form-control" 
                      [(ngModel)]="question.answers[0]" id="inputAnswer1" placeholder="Odgovor 1" 
                              #question required>
                    </div>

                      <div class="form-check col d-flex align-items-center" style="margin-left: 20px; ">
                        <label class="form-check-label" style="margin-top: 5px;">
                          <input [(ngModel)]="question.correctAnswer"  value = "0"
                          type="radio" class="form-check-input" name="question{{i}}.correctAnswer">Točan odgovor
                        </label>
                      </div>
                  </div>

                  <div class="form-group col-md-12 form-row d-flex align-items-center" style="margin-top: 5px;">
                    <label for="inputQuestion" style="font-family: Arial; text-align: center; margin-top: 5px;" 
                           class="d-flex align-items-center">
                      Odgovor 2:
                    </label>
                    
                    <div class="col d-flex align-items-center">
                      <input name="question{{i}}.answers[1]" type="text" class="form-control"
                        [(ngModel)]="questions[i].answers[1]" id="inputAnswer2" placeholder="Odgovor 2" 
                              #name required>
                    </div>

                      <div class="form-check col d-flex align-items-center" style="margin-left: 20px; ">
                        <label class="form-check-label" style="margin-top: 5px;">
                          <input [(ngModel)]="questions[i].correctAnswer"  value = "1"
                          type="radio" class="form-check-input" name="question{{i}}.correctAnswer">Točan odgovor
                        </label>
                      </div>
                  </div>

                  <div class="form-group col-md-12 form-row d-flex align-items-center" style="margin-top: 5px;">
                    <label for="inputQuestion" style="font-family: Arial; text-align: center; margin-top: 5px;" 
                           class="d-flex align-items-center">
                      Odgovor 3:
                    </label>
                    
                    <div class="col d-flex align-items-center">
                      <input name="question{{i}}.answers[2]" type="text" class="form-control" 
                        [(ngModel)]="question.answers[2]" id="inputAnswer3" placeholder="Odgovor 3" 
                              #name required>
                    </div>

                      <div class="form-check col d-flex align-items-center" style="margin-left: 20px; ">
                        <label class="form-check-label" style="margin-top: 5px;">
                          <input [(ngModel)]="question.correctAnswer"  value = "2"
                          type="radio" class="form-check-input" name="question{{i}}.correctAnswer">Točan odgovor
                        </label>
                      </div>
                  </div>

                  <div class="form-group col-md-12 form-row d-flex align-items-center" style="margin-top: 5px;">
                    <label for="inputQuestion" style="font-family: Arial; text-align: center; margin-top: 5px;" 
                           class="d-flex align-items-center">
                      Odgovor 4:
                    </label>
                    
                    <div class="col d-flex align-items-center">
                      <input name="question{{i}}.answers[3]" type="text" class="form-control" 
                        [(ngModel)]="question.answers[3]" id="inputAnswer4" placeholder="Odgovor 4" 
                              #name required>
                    </div>

                      <div class="form-check col d-flex align-items-center" style="margin-left: 20px; ">
                        <label class="form-check-label" style="margin-top: 5px;">
                          <input [(ngModel)]="question.correctAnswer" value = "3"
                          type="radio" class="form-check-input" name="question{{i}}.correctAnswer">Točan odgovor
                        </label>
                        
                      </div>
                      
                  </div>
                  
                 </div>
                 <hr>
                </div>

                <button class="btn btn-success btn-lg btn-block" 
                        style="margin-bottom: 60px;"
                        type="submit" [disabled]="!myForm.valid">
                        Submit
                </button>
            </form>
        </div>
    </div>
</div>
