<div class="kontenjer">
    <div class="media">
        <img 
        class="align-self-center mr-3 shadow-sm p-2 mb-5" 
        [src]="kviz?.imagePath"
        [alt]="kviz?.name"
        style="width: 300px; height: 300px; background-color: rgb(255, 255, 255);">
        <div class="media-body">
          <hr>

          <h4 class="mt-0 " style="display:inline; ">{{ kviz?.name }} </h4>
          <h5 style="display:inline;" class="align-baseline"></h5>
            <img src="https://freepngimg.com/thumb/star/19-star-png-image-thumb.png"
                style="width: 30px; height: 30px; cursor: pointer;"
                class="align-bottom ime">
          <a style="margin-right: 5px;"></a>

          <h5 style="display:inline;" class="align-text-bottom font-weight-light">
            {{ ratings }}
          </h5>
          <a style="margin-right: 10px;"></a> 

          <p style="display:inline; margin-left: 70px; color: gray;" class="font-weight-light" *ngIf="kviz?.ratings.length > 0">
            {{ kviz.ratings.length }} {{ kviz.ratings.length == 1 ? 'Ocjena' : 'Ocjene'}}  
          </p>
          <h6>{{ kviz?.creator.username }}</h6>
          
          <p class="mb-0 font-weight-light" style="text-align: justify; margin-right: 20px;">{{ kviz?.description }}</p>
          <p style="display:inline;" >Napravljeno: {{ kviz?.created_at | date: 'mediumDate'}}</p>
          <hr>
        </div>
      </div>

      <div class="d-flex justify-content-center">
        <ng-template [ngIf]="!result" [ngIfElse]="hasResult">
          <div>
            <button type="button" class="btn btn-outline-primary" routerLinkActive="active" [routerLink]="'/igraj/'+id"
            style="
              padding: 1rem 2rem 1rem 2rem;
              font-size: 1.25rem;
              line-height: 1.75rem;
            "
            >
              <span>Igraj</span>
            </button>
          </div>
        </ng-template>
        
        <ng-template #hasResult>
          <div>
            <div>
              <div class="text-center">
                <h3 >Rezultat</h3>
                <p style="
                font-size: 1.25rem;
                line-height: 1.75rem;
              ">{{ result.correctAnswers }} / {{ result.questions }}</p>
            </div>

              <ng-template [ngIf]="userRating" [ngIfElse]="notRated">
                Ocjenili ste ovaj kviz s ocjenom {{ userRating.rating }}
                 
              </ng-template>
              
              <ng-template #notRated>
                <div class="d-flex flex-column row justify-content-center">
                  <div class="text-center">
                    <h3> Ocijeni kviz </h3>
                  </div>
                  <div>
                    <button class="votingDugme btn card-text btn-light btn-lg" (click)="onAddRating(1)">1</button> 
                    <a style="margin-right: 5px;"></a> 
                    <button class="votingDugme btn card-text btn-light btn-lg" (click)="onAddRating(2)">2</button> 
                    <a style="margin-right: 5px;"></a>
                    <button class="votingDugme btn card-text btn-light btn-lg" (click)="onAddRating(3)">3</button> 
                    <a style="margin-right: 5px;"></a>
                    <button class="votingDugme btn card-text btn-light btn-lg" (click)="onAddRating(4)">4</button> 
                    <a style="margin-right: 5px;"></a>
                    <button class="votingDugme btn card-text btn-light btn-lg" (click)="onAddRating(5)">5</button>
                  </div>
                  
              </div>
        
              </ng-template>
            </div>
            
            
          </div>
          
        </ng-template>
      </div>
  </div>
